(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(28),l=n.n(r),o=n(14),c=n(8),d=n(13);function s(e){var t=e.name;e.className,e.style;switch(t){case"add":return a.a.createElement(d.a,{className:"w-12 h-12 text-white z-100",style:{color:"#2f7fef"}});case"minus":return a.a.createElement(d.d,{className:"w-12 h-12",style:{color:"red"}});default:return null}}var u=function(e){switch(e){case"isFirstChild":return"right-connect-line";case"isChild":return"full-connect-line";case"isLastChild":return"left-connect-line";default:return""}},h=n(24);var m=function(e){var t=function(){var e=Object(i.useState)(!0),t=Object(o.a)(e,2),n=(t[0],t[1]);return function(){return n(function(e){return!e})}}(),n=e.cell.value,r=n.name,l=n.id,m=n.root,p=n.position,v=e.estimation,f=e.toggleEstimation,g=e.handleAddChild,b=e.handleAddSibling,E=e.handleRemoveCell,w=e.handleAppendChild,y=e.handleAppendSibling,C=e.activeCell,N=e.setActiveCell,_=Object(i.useState)(!1),O=Object(o.a)(_,2),A=(O[0],O[1]),I=Object(i.useState)(null),x=Object(o.a)(I,2),j=x[0],S=x[1];console.log(j);var L=a.a.createRef(),T=a.a.createRef(null),R=function(e){var t=e.target.getAttribute("id"),n=e.target.getAttribute("name");(null===t||void 0===t?void 0:t.includes("sibling-dropzone"))&&S(t),"child-dropzone"===n&&S("child-dropzone-".concat(void 0)),e.preventDefault()},k=Object(i.useCallback)(function(e){var t=e.target;T&&T.current&&l===C&&!T.current.contains(t)&&N(null)},[]);Object(i.useEffect)(function(){return document.addEventListener("click",k),function(){document.removeEventListener("click",k)}},[k]);var D=function(e,n){e.preventDefault();var i=document.getElementById(l),a=e.target,r=a.getAttribute("id");n=e.dataTransfer.getData("cell");if(n=JSON.parse(n),i.hasChildNodes(a)&&"right-sibling-dropzone"!==a.getAttribute("name")&&"left-sibling-dropzone"!==a.getAttribute("name")&&(r=r.replace(/textarea-|edit-/g,"")||r,w(n,r),t()),"right-sibling-dropzone"===e.target.getAttribute("name")){e.target.style.className="is-dragging",r=r.replace(/right-sibling-dropzone-/g,""),y("right",n,r);var o=document.getElementsByClassName("cell");Object(c.a)(o).map(function(e){e.classList.remove("on-right-dragged-over","on-left-dragged-over")})}"left-sibling-dropzone"===e.target.getAttribute("name")&&(r=r.replace(/left-sibling-dropzone-/g,""),y("left",n,r)),A(!1),S(null),t()};return a.a.createElement("div",{className:h(u(p))},a.a.createElement("div",{className:h("relative")},a.a.createElement("div",{className:h("cell cell-width mt-12 mb-2 h-32 flex justify-center relative",(null===j||void 0===j?void 0:j.includes(l))&&(null===j||void 0===j?void 0:j.includes("right"))&&"on-right-dragged-over",(null===j||void 0===j?void 0:j.includes(l))&&(null===j||void 0===j?void 0:j.includes("left"))&&"on-left-dragged-over")},!m&&a.a.createElement("div",{className:h("left-dz bg-red absolute left-0 top-0 dropzone bg-transparent"),name:"left-sibling-dropzone",id:"left-sibling-dropzone-".concat(l),onDrop:function(t){return D(t,e.cell)},onDragOver:function(e){return R(e)}}),a.a.createElement("div",{id:l,ref:T,name:"child-dropzone",className:h("border main-border rounded-lg w-56",!m&&"absolute above-line min-h-cell",e.cell.children.length>0&&"absolute below-line"),onDragStart:function(t){return n=t,i=e.cell,A(!0),void n.dataTransfer.setData("cell",JSON.stringify(i));var n,i},draggable:!m&&"true",onDrop:function(t){D(t,e.cell)},onDragOver:function(e){return R(e)}},a.a.createElement("div",{className:h("flex items-center h-4 w-full main-border-bottom",!m&&"draggable",C===l&&"main-bg")},a.a.createElement(d.c,{className:h("text-4xl font-semibold pl-2",l===C?"text-white":"main-text-color")})),a.a.createElement("div",{ref:L,className:"relative px-2 py-2 text-xl font-semibold main-text-color",id:"edit-".concat(l),onClick:function(e){return function(e){e.target.getAttribute("id").includes(l)&&(C&&C===l||N(l),C&&N(null))}(e)}},a.a.createElement("textarea",{style:{width:"100%"},rows:"2","data-min-rows":"2",id:"textarea-".concat(l),placeholder:r}))),!m&&C!==l&&a.a.createElement("div",{className:["absolute opacity-0 hover:opacity-100 flex justify-start w-24 h-32 top-0 right-0"],onClick:function(){b(e.cell.value)}},a.a.createElement(s,{name:"add",className:" z-100"})),!m&&a.a.createElement("div",{className:h("right-dz bg-red absolute top-0 right-0 dropzone bg-transparent"),name:"right-sibling-dropzone",id:"right-sibling-dropzone-".concat(l),onDrop:function(t){return D(t,e.cell)},onDragOver:function(e){return R(e)},onDragLeave:function(e){return(t=e).target.getAttribute("id").includes("sibling-dropzone")&&S(null),void("child-dropzone"===t.target.getAttribute("name")&&S(null));var t}}),f&&a.a.createElement("div",{className:"flex flex-col h-auto items-center justify-center absolute right-0"},v.map(function(e,t){return e.activated&&a.a.createElement("div",{key:t,className:h(["w-8 text-center h-6 px-2",t!==v.length-1&&0!==t&&"border-middle-cells",0===t&&"border-first-cell",t===v.length-1&&"border-last-cell"]),style:{color:e.activated?e.color:""}},e.hours)})),C!==l&&a.a.createElement("div",{className:["absolute bottom-0 opacity-0 hover:opacity-100 flex justify-center w-56 h-8"],onClick:function(){g(e.cell.value)}},a.a.createElement(s,{name:"add",className:"absolute z-100"})),C===l&&!m&&a.a.createElement("div",{id:"remove".concat(l),className:h("absolute bottom-0 right-0 flex justify-center w-56 h-8",C===l?"opacity-1":"opacity-0"),onClick:function(){E(e.cell.value)}},a.a.createElement(s,{id:"remove".concat(l),name:"minus"})))))},p=n(4),v=n(52),f=n(24);var g=function(e){var t,n;return e&&(null===(t=document)||void 0===t?void 0:null===(n=t.getElementById(e))||void 0===n?void 0:n.offsetWidth)},b=Object(p.b)(function(e){return{tree:e.tree.tree._root,estimation:e.estimation}},function(e){return{dispatchAddChild:function(t){e(function(e){return{type:"ADD_CHILD",cell:e}}(t))},dispatchAppendChild:function(t,n){e(function(e,t){return{type:"APPEND_CHILD",parentId:t,cell:e}}(t,n))},dispatchAddSibling:function(t){e(function(e){return{type:"ADD_SIBLING",cell:e}}(t))},dispatchRemoveCell:function(t){e(function(e){return{type:"REMOVE_CELL",cell:e}}(t))},dispatchAppendSibling:function(t,n,i){e(function(e,t,n){switch(e){case"right":return{type:"APPEND_RIGHT_SIBLING",cell:t,siblingId:n};case"left":return{type:"APPEND_LEFT_SIBLING",cell:t,siblingId:n};default:return null}}(t,n,i))}}})(function e(t){var n,r,l=function(){var e=Object(i.useState)(!0),t=Object(o.a)(e,2),n=(t[0],t[1]);return function(){return n(function(e){return!e})}}(),c=t.tree,d=t.toggleEstimation,s=t.estimation,u=Object(i.useState)(null),h=Object(o.a)(u,2),p=h[0],b=h[1],E=t.dispatchAddChild,w=t.dispatchAppendChild,y=t.dispatchAddSibling,C=t.dispatchRemoveCell,N=t.dispatchAppendSibling,_=function(e){var t={value:{group:"body",id:v(),name:"name",parentId:e.id,hasChildren:!1},children:[]};E(t),l()},O=function(e,t){e.value.id!==t&&w(e,t),l()},A=function(e){var t={value:{group:"body",id:v(),name:"name",parentId:e.parentId,siblingId:e.id,hasChildren:!1},children:[]};y(t),l()},I=function(e,t,n){N(e,t,n),l()},x=function(e){C(e),l()};return a.a.createElement("div",{className:[d&&"pointer-events-none"]},a.a.createElement("div",{className:"flex justify-center"},(null===c||void 0===c?void 0:null===(n=c.value)||void 0===n?void 0:n.root)&&a.a.createElement(m,{toggleEstimation:d,activeCell:p,setActiveCell:function(e){return b(e)},cell:c,estimation:s,handleAddChild:_,handleAddSibling:A,handleAppendSibling:I})),a.a.createElement("div",{className:"flex justify-center"},(null===c||void 0===c?void 0:null===(r=c.children)||void 0===r?void 0:r.length)>0&&c.children.map(function(t,n){return a.a.createElement("div",{id:t.value.id,key:n,className:f("flex flex-col items-center relative")},a.a.createElement(m,{toggleEstimation:d,estimation:s,activeCell:p,setActiveCell:function(e){return b(e)},key:n,cell:t,handleAddChild:_,handleAppendChild:O,handleAddSibling:A,handleAppendSibling:I,handleRemoveCell:x}),t.children.length>0&&a.a.createElement(e,{toggleEstimation:d,estimation:s,nodeWidth:g(t.value.id),id:t.value.id,tree:t,dispatchAddChild:E,dispatchAppendChild:w,dispatchAddSibling:y,dispatchRemoveCell:C,dispatchAppendSibling:N}))})))}),E=n(20),w=Object(p.b)(function(e){return{toggleEstimation:e.toggleEstimation}},function(e){return{dispatchToggleEstimation:function(t){e(function(e){return{type:"TOGGLE_ESTIMATION",isOpen:e}}(t))}}})(function(e){var t=e.toggleEstimation,n=e.dispatchToggleEstimation;return a.a.createElement("div",{className:"flex justify-end"},a.a.createElement("button",{onClick:function(){n(!t)},className:"w-12 h-12 bg-button flex justify-center items-center"},a.a.createElement(E.a,null)))}),y=n(29),C=n(30),N=n(78),_=n(72),O=n(23),A=n(79),I=n(73),x=n.n(I),j=[{unit:"",name:"ITEM",value:"item"},{unit:"",name:"RATE",value:"rate"},{unit:"h",name:"HOURS",value:"hours"},{unit:"",name:"AMOUNT",value:"amount"}],S=!0,L=!1,T=function(e){var t=e.activated,n=(e.index,e.color);return a.a.createElement("div",null,!t&&a.a.createElement(E.c,{color:[t?n:""]}),t&&a.a.createElement(d.b,{className:"text-xl",color:[t?n:""]}))},R=function(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},k=n(24),D=function(e,t){return Array.isArray(e)&&e.length>0&&"amount"!==t?e.reduce(function(e,n){return e+parseFloat(n[t])},0):Array.isArray(e)&&e.length>0&&"amount"===t?e.reduce(function(e,t){return e+parseFloat(t.rate)*parseFloat(t.hours)},0):0},G=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(N.a)(this,Object(_.a)(t).call(this,e))).handleAddRow=function(e){n.props.dispatchAddRow(e),n.props.dispatchKeepToggle()},n.handleRemoveRow=function(e){window.confirm("Confirm removing row?")&&e&&n.props.dispatchRemoveRow(e),n.props.dispatchKeepToggle()},n.onDragEnd=function(e,t){var i=R(n.props.estimation),a=R(i[e]),r=R(i[t]);i[e]=r,i[t]=a,n.props.dispatchArrangeRow(i),n.props.dispatchKeepToggle()},n.dragProps={onDragEnd:n.onDragEnd,nodeSelector:"li",handleSelector:"a"},n.handleInputChange=function(e){var t=e.target,i=t.id,a=t.name,r=t.value,l=i.split("-")[0],o=i.replace("".concat(l,"-"),"");n.props.dispatchEditCell(o,a,r),n.props.dispatchKeepToggle()},n.handleToggleTick=function(e,t){t?window.confirm("Are you sure you want to unlink this data row from sitemap?")&&n.props.dispatchToggleTick(e):n.props.dispatchToggleTick(e),n.props.dispatchKeepToggle()},n.handleAddRow=n.handleAddRow.bind(Object(O.a)(n)),n.state={parentId:"",reset:!0},n.setState=n.setState.bind(Object(O.a)(n)),n}return Object(A.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("estimationTable").addEventListener("keypress",function(t){if(13===(t.which||t.keyCode)){var n=t.target.getAttribute("id").split("-")[1];e.handleAddRow(n)}})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"estimationTable",className:"w-full"},a.a.createElement(x.a,this.dragProps,a.a.createElement("div",{className:"w-full flex items-center h-16"},j.map(function(e,t){return a.a.createElement("div",{className:k(["w-1/".concat(j.length),"primary-grey font-semibold ml-4 text-white"]),key:t},e.name)})),a.a.createElement("ol",{className:"w-full"},this.props.estimation.map(function(t,n){return a.a.createElement("li",{className:"text-white flex estimation-row h-16",key:n},a.a.createElement("div",{className:"flex items-center w-1/4 border grey-border"},a.a.createElement("a",{className:"-ml-3 mr-3 cursor-pointer absolute z-50",onClick:function(){return e.handleRemoveRow(t)}},a.a.createElement("div",{className:"bg-red-700 rounded-full w-6 h-6 text-white text-xl flex justify-center items-center"},"-")),a.a.createElement("input",{autoComplete:"off",onChange:function(t){return e.handleInputChange(t)},name:"title",id:"title-".concat(t.id),className:"ml-3 w-full max-h-full estimation-panel focus:outline-none",type:"text",placeholder:t.title}),a.a.createElement("div",{id:"tick-".concat(t.id),className:"cursor-pointer ",onClick:function(){return e.handleToggleTick(t.id,t.activated)}},a.a.createElement(T,{activated:t.activated,index:n,color:t.color}))),a.a.createElement("div",{className:"w-1/4 border grey-border"},a.a.createElement("input",{autoComplete:"off",id:"rate-".concat(t.id),onChange:function(t){return e.handleInputChange(t)},name:"rate",className:"ml-3 w-full h-full bg-transparent focus:outline-none focus:bg",type:"number",placeholder:"$".concat(t.rate)})),a.a.createElement("div",{className:"w-1/4 border grey-border"},a.a.createElement("input",{autoComplete:"off",id:"hours-".concat(t.id),onChange:function(t){return e.handleInputChange(t)},name:"hours",className:"ml-3 w-full h-full bg-transparent focus:outline-none focus:bg",type:"number",placeholder:t.hours})),a.a.createElement("div",{className:"w-1/4 border grey-border flex justify-between items-center"},a.a.createElement("div",{id:"amount-".concat(t.id),name:"amount",className:"ml-3 w-full h-full bg-transparent focus:outline-none focus:bg flex items-center"},"$"," ",parseFloat(t.hours)*parseFloat(t.rate)||0),a.a.createElement("a",{className:"active:cursor-grabbing"},a.a.createElement(E.b,null))))}))),a.a.createElement("div",{onClick:function(){e.handleAddRow()},className:"primary-grey h-16 flex justify-start items-center border-b grey-border cursor-pointer ml-3"},"Add row"),a.a.createElement("div",{className:"h-16 flex justify-start items-center ml-3 text-white font-semibold text-xl"},a.a.createElement("div",{className:"w-1/4"}),a.a.createElement("div",{className:"w-1/4 h-full flex items-center grey-border border-r border-b-2 border-white"},"Subtotal"),a.a.createElement("div",{className:"w-1/4 h-full flex items-center grey-border border-r pl-3 border-b-2 border-white"},D(this.props.estimation,"hours")),a.a.createElement("div",{className:"w-1/4 h-full flex items-center grey-border border-r pl-3 border-b-2 border-white"},D(this.props.estimation,"amount"))),a.a.createElement("div",{className:"h-16 flex justify-start items-center border-b grey-border ml-3 text-white font-semibold text-xl"},a.a.createElement("div",{className:"w-1/4"}),a.a.createElement("div",{className:"w-1/4 h-full flex items-center grey-border border-r"},"Total"),a.a.createElement("div",{className:"w-1/4 h-full flex items-center grey-border border-r"}),a.a.createElement("div",{className:"w-1/4 h-full flex items-center grey-border border-r pl-3"}," ",D(this.props.estimation,"amount"))))}}]),t}(a.a.Component),P=Object(p.b)(function(e){return{estimation:e.estimation}},function(e){return{dispatchArrangeRow:function(t){e(function(e){return{type:"ARRANGE_ROW",data:e}}(t))},dispatchAddRow:function(t){e(function(e){return{type:"ADD_ROW",id:e}}(t))},dispatchRemoveRow:function(t){e(function(e){return{type:"REMOVE_ROW",data:e}}(t))},dispatchEditCell:function(t,n,i){e(function(e,t,n){return{type:"EDIT_CELL",data:{cellId:e,name:t,value:n}}}(t,n,i))},dispatchToggleTick:function(t){e(function(e){return{type:"TOGGLE_TICK",data:e}}(t))},dispatchKeepToggle:function(){e({type:"KEEP_TOGGLE"})},dispatchCloseToggle:function(){e({type:"CLOSE_TOGGLE"})}}})(G),z=function(e){return a.a.createElement("div",{className:"flex flex-col items-center justify-center"},a.a.createElement(P,null))},F=n(24),B=Object(p.b)(function(e){return{toggleEstimation:e.toggleEstimation}})(function(e){var t=e.toggleEstimation;return a.a.createElement("div",{className:F("wrapper flex",!t&&"flex-col")},a.a.createElement("div",{className:F([t?"w-3/4 px-8 mt-24 overflow-hidden ":"w-full px-8 mt-24"])},a.a.createElement(w,null),a.a.createElement(b,{toggleEstimation:t,store:e.store})),t&&a.a.createElement("div",{className:"estimation-panel w-1/2 min-h-screen overflow-scroll"},a.a.createElement(z,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(138);var K=n(74),M=n(2),W=n(50),J=n(75),H=n.n(J),V=n(76),U=n.n(V),$=n(77),X=n.n($),q=n(15),Q=function(){function e(t){Object(y.a)(this,e),this._root=t||null}return Object(C.a)(e,[{key:"_buildTree",value:function(e){this._root=Y}},{key:"_traverse",value:function(e){!function t(n){e(n),n.children.forEach(function(e){t(e)})}(this._root)}},{key:"_addNode",value:function(e,t){var n={value:e,children:[]};null!==this._root?this._traverse(function(n){if(n.value.id===t)return n.children.push(e)}):this._root=n}},{key:"_addSibling",value:function(e,t,n,i){"right"===i&&this._traverse(function(i){var a;if(i.value.id===t)return i.children.map(function(e,t){e.value.id===n&&(a=t)}),i.children.splice(a+1,0,e)}),"left"===i&&this._traverse(function(i){var a;if(i.value.id===t)return i.children.map(function(e,t){e.value.id===n&&(a=t)}),i.children.splice(a,0,e)})}},{key:"_removeNode",value:function(e){this._traverse(function(t){t.children.forEach(function(n,i){n.value.id===e&&t.children.splice(i,1)})})}},{key:"_search",value:function(e){var t="Not Found";return this._traverse(function(n){n&&n.value.id===e&&(t=n)}),t}},{key:"_displayLeafs",value:function(e){var t=this,n="string"===typeof e?this._search(e):e,i=[];return(null===e||void 0===e?void 0:e.children)&&!e.children.length?e:(n&&n.children.forEach(function(e){i.push(t._displayLeafs(e))}),i.flat())}},{key:"_childPosition",value:function(e,t){var n;return this._search(e).children.map(function(e,i){e.value.id===t&&(n=i)}),n}}]),e}(),Y=function(){return new Q},Z="isChild",ee=Y();ee._addNode({group:"main",id:"te83nwko7b",name:"Root",root:!0,hasChildren:!1,children:[],estimation:{}});var te,ne={tree:ee},ie=function(e){switch(e){case 0:return"rgb(234, 94, 94)";case 1:return"rgb(130, 197, 72)";case 2:return"rgb(234, 196, 94)";case 3:return"rgb(94, 210, 234)";case 4:return"rgb(230, 94, 234)";case 5:return"rgb(94, 234, 200)";case 6:return"rgb(94, 129, 234)";case 7:return"rgb(244, 160, 7)";default:return"rgb(234, 94, 94)"}},ae=n(49),re=n(52),le=[{id:"root",title:"1",order:0,rate:0,hours:0,amount:0,activated:!0,color:ie(0)}];te=ae.check("estimation")?ae.get("estimation"):le;var oe=Object(M.c)({tree:function(){var e,t,n,i,a,r,l,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,c=arguments.length>1?arguments[1]:void 0,d=c.cell,s=null===d||void 0===d?void 0:null===(e=d.value)||void 0===e?void 0:e.parentId,u=(null===d||void 0===d?void 0:null===(t=d.value)||void 0===t?void 0:t.siblingId)||c.siblingId,h=o.tree,m=null===h||void 0===h?void 0:h._search(s),p=null===m||void 0===m?void 0:null===(n=m.children)||void 0===n?void 0:n.length,v=null===m||void 0===m?void 0:null===(i=m.children)||void 0===i?void 0:i.length;switch(c.type){case"ADD_CHILD":return d.value.position=function(e,t){return 0===t&&e>0?"isFirstChild":t===e&&0!==t?"isLastChild":0!==t&&t<e&&e>2?"isChild":void 0}(v,p),m.children.length>1&&(m.children[v-1].value.position=Z),1===v&&(m.children[0].value.position="isFirstChild"),m&&(m.value.hasChildren=!0),h._addNode(d,s),Object(q.a)({},o,{tree:h});case"APPEND_CHILD":l=d.value.position,h._removeNode(d.value.id),d.value.parentId=c.parentId,d.value.position="",h._addNode(d,c.parentId),h._search(c.parentId).value.hasChildren=!0;var f=h._search(h._search(c.parentId).value.parentId);return 1===f.children.length&&(f.children[0].value.position=""),v-1===1&&(m.children[0].position=""),r=h._childPosition(s,d.value.id),v-1>1&&"isFirstChild"===l&&(m.children[0].value.position="isFirstChild"),v-1>1&&"isLastChild"===l&&m&&(m.children[v-2].value.position="isLastChild"),Object(q.a)({},o,{tree:h});case"ADD_SIBLING":return 1===v&&(m.children[0].value.position="isFirstChild",d.value.position="isLastChild"),v>1&&r===v-1&&(d.value.position="isLastChild",m.children[v-1].value.position=Z),v>1&&r!==v-1&&(d.value.position=Z),h._addSibling(d,s,u,"right"),Object(q.a)({},o,{tree:h});case"APPEND_RIGHT_SIBLING":return s=h._search(u).value.parentId,r=h._childPosition(s,u),(l=null===h||void 0===h?void 0:h._childPosition(s,d.value.id))!==r+1&&l!==r&&(0===l&&r!==v-1&&(m.children[1].value.position="isFirstChild",d.value.position=Z),0===l&&r===v-1&&2===v&&(m.children[1].value.position="isFirstChild",d.value.position="isLastChild"),0===l&&r===v-1&&v>2&&(m.children[1].value.position="isFirstChild",m.children[v-1].value.position=Z,d.value.position="isLastChild"),0!==l&&r===v-1&&(d.value.position="isLastChild",m.children[v-2].value.position=Z),l===v-1&&(m.children[v-2].value.position="isLastChild",d.value.position=Z),v>2&&0!==l&&l!==v-1&&r===v-1&&(d.value.position="isLastChild",m.children[v-1].value.position=Z),h._removeNode(d.value.id),h._addSibling(d,s,u,"right")),Object(q.a)({},o,{tree:h});case"APPEND_LEFT_SIBLING":return s=h._search(u).value.parentId,r=h._childPosition(s,u),(l=h._childPosition(s,d.value.id))!==r-1&&r!==l&&(0===r&&l!==v-1&&(d.value.position="isFirstChild",m.children[0].value.position=Z),0===r&&l===v-1&&(d.value.position="isFirstChild",m.children[0].value.position=Z,m.children[v-2].value.position="isLastChild"),0===l&&r===v-1&&(d.value.position=Z,m.children[1].value.position="isFirstChild"),0!==r&&l===v-1&&(d.value.position=Z,m.children[r].value.position="isLastChild"),h._removeNode(d.value.id),h._addSibling(d,s,u,"left")),Object(q.a)({},o,{tree:h});case"REMOVE_CELL":h._removeNode(d.id);var g=null===h||void 0===h?void 0:null===(a=h._search(d.parentId))||void 0===a?void 0:a.children.length;return h._search(d.parentId).children.length>1&&(h._search(d.parentId).children[0].value.position="isFirstChild",h._search(d.parentId).children[g-1].value.position="isLastChild"),1===h._search(d.parentId).children.length&&(h._search(d.parentId).children[0].value.position=""),1===h._search(d.parentId).children.length&&(h._search(d.parentId).children[0].value.position=""),Object(q.a)({},o,{tree:h});default:return o}},toggleEstimation:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0,t=e.isOpen;switch(e.type){case"TOGGLE_ESTIMATION":return t;case"KEEP_TOGGLE":return S;case"CLOSE_TOGGLE":return L;default:return!1}},estimation:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,n=arguments.length>1?arguments[1]:void 0,i=n.data;switch(n.type){case"ARRANGE_ROW":return e=i,Object(c.a)(e);case"ADD_ROW":var a=re(),r=t.length,l={id:a,title:"",rate:0,hours:0,color:ie(r),activated:!0},o=0;return t.map(function(e){e.id===i&&(t.push(l),o=1)}),0===o&&t.push(l),Object(c.a)(t);case"REMOVE_ROW":return t=t.filter(function(e){return e.id!==i.id}),Object(c.a)(t);case"EDIT_CELL":var d=i.cellId,s=i.value,u=i.name;return t.map(function(e){e.id===d&&(e["".concat(u)]=s)}),Object(c.a)(t);case"TOGGLE_TICK":return t.map(function(e){e.id===i&&(e.activated=!e.activated)}),Object(c.a)(t);default:return t}}}),ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||M.d,de={key:"root",storage:H.a,blacklist:["tree"],stateReconciler:U.a},se=Object(W.a)(de,oe),ue=Object(M.e)(se,ce(Object(M.a)(X.a))),he=Object(W.b)(ue);l.a.render(a.a.createElement(p.a,{store:ue},a.a.createElement(K.PersistGate,{loading:null,persistor:he},a.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},49:function(e,t){e.exports={set:function(e){window.localStorage.setItem("tree",JSON.stringify(e))},update:function(e){window.localStorage.setItem("tree",JSON.stringify(e))},clear:function(){window.localStorage.removeItem("tree")},get:function(e){return JSON.parse(JSON.parse(window.localStorage.getItem("persist:root"))[e])},check:function(e){return!!window.localStorage.getItem("persist:root")&&!JSON.parse(window.localStorage.getItem("persist:root"))[e]}}},80:function(e,t,n){e.exports=n(141)}},[[80,1,2]]]);
//# sourceMappingURL=main.2a363435.chunk.js.map