(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(35)},33:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var i=n(0),l=n.n(i),a=n(6),r=n.n(a),c=n(11),o=n(4),d=n(5);function s(e){var t=e.name;e.className,e.style;switch(t){case"add":return l.a.createElement(d.a,{className:"w-12 h-12 text-white z-100",style:{color:"#2f7fef"}});case"minus":return l.a.createElement(d.c,{className:"w-12 h-12",style:{color:"red"}});default:return null}}var u=function(e){switch(e){case"isFirstChild":return"right-connect-line";case"isChild":return"full-connect-line";case"isLastChild":return"left-connect-line";default:return""}},h=n(13),v=function(e){var t=e.cell.value,n=(t.name,t.id),i=t.root,a=t.position,r=e.handleAddChild,c=e.handleAddSibling,o=e.handleRemoveCell,v=e.isEditing,m=e.setIsEditing,f=v.activeCell,p=v.editing;return l.a.createElement("div",{className:h("relative",u(a))},l.a.createElement("div",{className:h("cell-width mt-12 h-32 relative flex justify-between")},l.a.createElement("div",{onClick:function(){console.log("click on cell ",n),m({activeCell:p?"":n,editing:!p})},className:h("border main-border w-56 h-24",!i&&"absolute above-line",e.cell.children.length>0&&"absolute below-line")},l.a.createElement("div",{className:h("flex items-center h-4 w-full main-border-bottom",p&&f===n&&"main-bg")},l.a.createElement(d.b,{className:h("text-4xl font-semibold pl-2",p&&n===f?"text-white":"main-text-color")})),l.a.createElement("div",{className:"relative px-2 py-2 text-xl font-semibold main-text-color"},n)),!i&&f!==n&&l.a.createElement("div",{className:["ml-4 opacity-0 hover:opacity-100 flex justify-center w-12 h-32 absolute top-0 right-0"],onClick:function(){c(e.cell.value)}},l.a.createElement(s,{name:"add",className:"absolute z-100"})),f!==n&&l.a.createElement("div",{className:["absolute bottom-0 opacity-0 hover:opacity-100 flex justify-center w-56 h-8"],onClick:function(){r(e.cell.value)}},l.a.createElement(s,{name:"add",className:"absolute z-100"})),f===n&&!i&&l.a.createElement("div",{className:h("absolute bottom-0 right-0 flex justify-center w-56 h-8",p&&f===n?"opacity-1":"opacity-0"),onClick:function(){o(e.cell.value)}},l.a.createElement(s,{name:"minus"}))))},m=(Object(o.b)(function(e){})(v),n(30)),f=n(13);var p=Object(o.b)(function(e){return{tree:e.tree.tree._root}},function(e){return{dispatchAddChild:function(t){e(function(e){return{type:"ADD_CHILD",cell:e}}(t))},dispatchAddSibling:function(t){e(function(e){return{type:"ADD_SIBLING",cell:e}}(t))},dispatchRemoveCell:function(t){e(function(e){return{type:"REMOVE_CELL",cell:e}}(t))}}})(function e(t){var n,a,r=function(){var e=Object(i.useState)(!0),t=Object(c.a)(e,2),n=(t[0],t[1]);return function(){return n(function(e){return!e})}}(),o=t.tree,d=Object(i.useState)({activeCell:"",editing:!1}),s=Object(c.a)(d,2),u=s[0],h=s[1],p=t.dispatchAddChild,b=t.dispatchAddSibling,E=t.dispatchRemoveCell,_=function(e){var t={value:{group:"body",id:m(),name:"name",parentId:e.id,hasChildren:!1},children:[]};p(t),r()},g=function(e){var t={value:{group:"body",id:m(),name:"name",parentId:e.parentId,siblingId:e.id,hasChildren:!1},children:[]};b(t),r()},C=function(e){E(e),r()};return l.a.createElement("div",null,l.a.createElement("div",{className:"flex justify-center"},(null===o||void 0===o?void 0:null===(n=o.value)||void 0===n?void 0:n.root)&&l.a.createElement(v,{isEditing:u,setIsEditing:h,cell:o,handleAddChild:_,handleAddSibling:g})),l.a.createElement("div",{className:"flex justify-center"},(null===o||void 0===o?void 0:null===(a=o.children)||void 0===a?void 0:a.length)>0&&o.children.map(function(t,n){return l.a.createElement("div",{key:n,className:f("flex flex-col items-center")},l.a.createElement(v,{isEditing:u,setIsEditing:h,key:n,cell:t,handleAddChild:_,handleAddSibling:g,handleRemoveCell:C}),t.children.length>0&&l.a.createElement(e,{tree:t,dispatchAddChild:p,dispatchAddSibling:b,dispatchRemoveCell:E}))})))}),b=function(e){return l.a.createElement("div",{className:"mt-24"},l.a.createElement(p,{store:e.store}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(33);var E=n(1),_=n(7),g=n(16),C=n(17),y=new(function(){function e(t){Object(g.a)(this,e),this._root=t||null}return Object(C.a)(e,[{key:"_traverse",value:function(e){!function t(n){e(n),n.children.forEach(function(e){t(e)})}(this._root)}},{key:"_addNode",value:function(e,t){var n={value:e,children:[]};null!==this._root?this._traverse(function(n){if(n.value.id===t)return n.children.push(e)}):this._root=n}},{key:"_addSibling",value:function(e,t,n){this._traverse(function(i){var l;if(i.value.id===t)return i.children.map(function(e,t){e.value.id===n&&(l=t)}),i.children.splice(l+1,0,e)})}},{key:"_removeNode",value:function(e){this._traverse(function(t){t.children.forEach(function(n,i){n.value.id===e&&t.children.splice(i,1)})})}},{key:"_search",value:function(e){var t="Not Found";return this._traverse(function(n){n.value.id===e&&(t=n)}),t}},{key:"_displayLeafs",value:function(e){var t=this,n="string"===typeof e?this._search(e):e,i=[];return e.children&&!e.children.length?e:(n.children.forEach(function(e){i.push(t._displayLeafs(e))}),i.flat())}},{key:"_childPosition",value:function(e,t){var n;return this._search(e).children.map(function(e,i){e.value.id===t&&(n=i)}),n}}]),e}());y._addNode({group:"main",id:"te83nwko7b",name:"Root",root:!0,hasChildren:!1});var w={tree:y},N=Object(E.combineReducers)({tree:function(){var e,t,n,i,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,a=arguments.length>1?arguments[1]:void 0,r=a.cell,c=null===r||void 0===r?void 0:null===(e=r.value)||void 0===e?void 0:e.parentId,o=null===r||void 0===r?void 0:null===(t=r.value)||void 0===t?void 0:t.siblingId,d=l.tree,s=d._search(c),u=null===s||void 0===s?void 0:null===(n=s.children)||void 0===n?void 0:n.length,h=null===s||void 0===s?void 0:null===(i=s.children)||void 0===i?void 0:i.length;switch(a.type){case"ADD_CHILD":return r.value.position=function(e,t){return 0===t&&e>0?"isFirstChild":t===e&&0!==t?"isLastChild":0!==t&&t<e&&e>2?"isChild":void 0}(h,u),s.children.length>1&&(s.children[h-1].value.position="isChild"),1===h&&(s.children[0].value.position="isFirstChild"),s.value.hasChildren=!0,d._addNode(r,c),Object(_.a)({},l,{tree:d});case"ADD_SIBLING":var v=d._childPosition(c,o);return 1===h&&(s.children[0].value.position="isFirstChild",r.value.position="isLastChild"),h>1&&v===h-1&&(r.value.position="isLastChild",s.children[h-1].value.position="isChild"),h>1&&v!==h-1&&(r.value.position="isChild"),d._addSibling(r,c,o),Object(_.a)({},l,{tree:d});case"REMOVE_CELL":d._removeNode(r.id);var m=d._search(r.parentId).children.length;return d._search(r.parentId).children.length>1&&(d._search(r.parentId).children[0].value.position="isFirstChild",d._search(r.parentId).children[m-1].value.position="isLastChild"),1===d._search(r.parentId).children.length&&(d._search(r.parentId).children[0].value.position=""),1===d._search(r.parentId).children.length&&(d._search(r.parentId).children[0].value.position=""),Object(_.a)({},l,{tree:d});default:return l}}}),I=(n(34),n(18)),O=n.n(I),j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.compose;var k=Object(E.createStore)(N,j(Object(E.applyMiddleware)(O.a)));r.a.render(l.a.createElement(o.a,{store:k},l.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.228b8bbf.chunk.js.map