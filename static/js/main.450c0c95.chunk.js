(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(34)},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var i=n(0),l=n.n(i),a=n(6),r=n.n(a),o=n(11),d=n(4),c=n(5);function s(e){var t=e.name;e.className,e.style;switch(t){case"add":return l.a.createElement(c.a,{className:"w-12 h-12 text-white z-100",style:{color:"#2f7fef"}});case"minus":return l.a.createElement(c.c,{className:"w-12 h-12",style:{color:"red"}});default:return null}}var u=function(e){switch(e){case"isFirstChild":return"right-connect-line";case"isChild":return"full-connect-line";case"isLastChild":return"left-connect-line";default:return""}},h=function(e,t){var n,i,l=null===(n=document)||void 0===n?void 0:n.getElementById(e);(null===(i=document)||void 0===i?void 0:i.getElementById(t)).addEventListener("click",function(e){return null===l||void 0===l?void 0:l.contains(e.target)})},v=n(13),m=function(e){var t=e.cell.value,n=t.name,a=t.id,r=t.root,o=t.position,d=(t.hasChildren,e.handleAddChild),m=e.handleAddSibling,f=e.handleRemoveCell,p=(e.nodeWidth,e.isEditing),g=e.setIsEditing,E=p.activeCell,b=p.editing,_=l.a.createRef();return Object(i.useEffect)(function(){console.log(_.current.value),document&&document.getElementById("remove".concat(a))&&document.getElementById("remove".concat(a)).addEventListener("click",function(t){f(e.cell.value),t.stopImmediatePropagation()}),document.getElementById("root").addEventListener("click",function(e){var t,n=h(a,"root");document&&document.getElementById("remove".concat(a))&&(t=h("remove".concat(a),"root")),(!n||n&&!t&&!1===b)&&g({activeCell:void 0,editing:!1})})},[b,a,g]),l.a.createElement("div",{className:v(u(o))},l.a.createElement("div",{className:v("relative")},l.a.createElement("div",{className:v("cell-width mt-12 h-32 relative flex justify-between")},l.a.createElement("div",{onClick:function(){g({activeCell:function(){if(a!==E)return a!==E?a:void 0}(),editing:!0===b||E!==a||(!0!==b||E!==a)&&void 0})},className:v("border main-border w-56 h-24",!r&&"absolute above-line",e.cell.children.length>0&&"absolute below-line")},l.a.createElement("div",{className:v("flex items-center h-4 w-full main-border-bottom draggable",b&&E===a&&"main-bg")},l.a.createElement(c.b,{className:v("text-4xl font-semibold pl-2",b&&a===E?"text-white":"main-text-color")})),l.a.createElement("div",{ref:_,className:"relative px-2 py-2 text-xl font-semibold main-text-color"},n)),!r&&E!==a&&l.a.createElement("div",{className:["ml-4 opacity-0 hover:opacity-100 flex justify-center w-12 h-32 absolute top-0 right-0"],onClick:function(){m(e.cell.value)}},l.a.createElement(s,{name:"add",className:"absolute z-100"})),E!==a&&l.a.createElement("div",{className:["absolute bottom-0 opacity-0 hover:opacity-100 flex justify-center w-56 h-8"],onClick:function(){d(e.cell.value)}},l.a.createElement(s,{name:"add",className:"absolute z-100"})),E===a&&!0===b&&!r&&l.a.createElement("div",{id:"remove".concat(a),className:v("absolute bottom-0 right-0 flex justify-center w-56 h-8",!0===b&&E===a?"opacity-1":"opacity-0")},l.a.createElement(s,{name:"minus"})))))},f=(Object(d.b)(function(e){})(m),n(30)),p=n(13);var g=function(e){var t,n;return console.log(e),e&&(null===(t=document)||void 0===t?void 0:null===(n=t.getElementById(e))||void 0===n?void 0:n.offsetWidth)},E=Object(d.b)(function(e){return{tree:e.tree.tree._root}},function(e){return{dispatchAddChild:function(t){e(function(e){return{type:"ADD_CHILD",cell:e}}(t))},dispatchAddSibling:function(t){e(function(e){return{type:"ADD_SIBLING",cell:e}}(t))},dispatchRemoveCell:function(t){e(function(e){return{type:"REMOVE_CELL",cell:e}}(t))}}})(function e(t){var n,a,r=function(){var e=Object(i.useState)(!0),t=Object(o.a)(e,2),n=(t[0],t[1]);return function(){return n(function(e){return!e})}}(),d=t.tree,c=Object(i.useState)({activeCell:void 0,editing:!1}),s=Object(o.a)(c,2),u=s[0],h=s[1],v=t.dispatchAddChild,E=t.dispatchAddSibling,b=t.dispatchRemoveCell,_=function(e){var t={value:{group:"body",id:f(),name:"name",parentId:e.id,hasChildren:!1},children:[]};v(t),r()},y=function(e){var t={value:{group:"body",id:f(),name:"name",parentId:e.parentId,siblingId:e.id,hasChildren:!1},children:[]};E(t),r()},C=function(e){b(e),r()};return l.a.createElement("div",null,l.a.createElement("div",{className:"flex justify-center"},(null===d||void 0===d?void 0:null===(n=d.value)||void 0===n?void 0:n.root)&&l.a.createElement(m,{isEditing:u,setIsEditing:h,cell:d,handleAddChild:_,handleAddSibling:y})),l.a.createElement("div",{className:"flex justify-center"},(null===d||void 0===d?void 0:null===(a=d.children)||void 0===a?void 0:a.length)>0&&d.children.map(function(t,n){return l.a.createElement("div",{id:t.value.id,key:n,className:p("flex flex-col items-center relative")},l.a.createElement(m,{isEditing:u,setIsEditing:h,key:n,cell:t,handleAddChild:_,handleAddSibling:y,handleRemoveCell:C}),t.children.length>0&&l.a.createElement(e,{nodeWidth:g(t.value.id),id:t.value.id,tree:t,dispatchAddChild:v,dispatchAddSibling:E,dispatchRemoveCell:b}))})))}),b=function(e){return l.a.createElement("div",{className:"wrapper mt-24"},l.a.createElement(E,{store:e.store}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(33);var _=n(2),y=n(7),C=n(16),I=n(17),w=new(function(){function e(t){Object(C.a)(this,e),this._root=t||null}return Object(I.a)(e,[{key:"_traverse",value:function(e){!function t(n){e(n),n.children.forEach(function(e){t(e)})}(this._root)}},{key:"_addNode",value:function(e,t){var n={value:e,children:[]};null!==this._root?this._traverse(function(n){if(n.value.id===t)return n.children.push(e)}):this._root=n}},{key:"_addSibling",value:function(e,t,n){this._traverse(function(i){var l;if(i.value.id===t)return i.children.map(function(e,t){e.value.id===n&&(l=t)}),i.children.splice(l+1,0,e)})}},{key:"_removeNode",value:function(e){this._traverse(function(t){t.children.forEach(function(n,i){n.value.id===e&&t.children.splice(i,1)})})}},{key:"_search",value:function(e){var t="Not Found";return this._traverse(function(n){n.value.id===e&&(t=n)}),t}},{key:"_displayLeafs",value:function(e){var t=this,n="string"===typeof e?this._search(e):e,i=[];return e.children&&!e.children.length?e:(n.children.forEach(function(e){i.push(t._displayLeafs(e))}),i.flat())}},{key:"_childPosition",value:function(e,t){var n;return this._search(e).children.map(function(e,i){e.value.id===t&&(n=i)}),n}}]),e}());w._addNode({group:"main",id:"te83nwko7b",name:"Root",root:!0,hasChildren:!1});var N={tree:w},O=Object(_.c)({tree:function(){var e,t,n,i,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0,r=a.cell,o=null===r||void 0===r?void 0:null===(e=r.value)||void 0===e?void 0:e.parentId,d=null===r||void 0===r?void 0:null===(t=r.value)||void 0===t?void 0:t.siblingId,c=l.tree,s=c._search(o),u=null===s||void 0===s?void 0:null===(n=s.children)||void 0===n?void 0:n.length,h=null===s||void 0===s?void 0:null===(i=s.children)||void 0===i?void 0:i.length;switch(a.type){case"ADD_CHILD":return r.value.position=function(e,t){return 0===t&&e>0?"isFirstChild":t===e&&0!==t?"isLastChild":0!==t&&t<e&&e>2?"isChild":void 0}(h,u),s.children.length>1&&(s.children[h-1].value.position="isChild"),1===h&&(s.children[0].value.position="isFirstChild"),s.value.hasChildren=!0,c._addNode(r,o),Object(y.a)({},l,{tree:c});case"ADD_SIBLING":var v=c._childPosition(o,d);return 1===h&&(s.children[0].value.position="isFirstChild",r.value.position="isLastChild"),h>1&&v===h-1&&(r.value.position="isLastChild",s.children[h-1].value.position="isChild"),h>1&&v!==h-1&&(r.value.position="isChild"),c._addSibling(r,o,d),Object(y.a)({},l,{tree:c});case"REMOVE_CELL":c._removeNode(r.id);var m=c._search(r.parentId).children.length;return c._search(r.parentId).children.length>1&&(c._search(r.parentId).children[0].value.position="isFirstChild",c._search(r.parentId).children[m-1].value.position="isLastChild"),1===c._search(r.parentId).children.length&&(c._search(r.parentId).children[0].value.position=""),1===c._search(r.parentId).children.length&&(c._search(r.parentId).children[0].value.position=""),Object(y.a)({},l,{tree:c});default:return l}}}),j=n(18),k=n.n(j),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_.d;var L=Object(_.e)(O,x(Object(_.a)(k.a)));r.a.render(l.a.createElement(d.a,{store:L},l.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.450c0c95.chunk.js.map