(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,i,t){e.exports=t(35)},30:function(e,i){},34:function(e,i,t){},35:function(e,i,t){"use strict";t.r(i);var n=t(0),l=t.n(n),a=t(8),r=t.n(a),o=t(3),d=t(5),c=t(7);function s(e){var i=e.name;e.className,e.style;switch(i){case"add":return l.a.createElement(c.a,{className:"w-12 h-12 text-white z-100",style:{color:"#2f7fef"}});case"minus":return l.a.createElement(c.c,{className:"w-12 h-12",style:{color:"red"}});default:return null}}var u=function(e){switch(e){case"isFirstChild":return"right-connect-line";case"isChild":return"full-connect-line";case"isLastChild":return"left-connect-line";default:return""}},h=(t(30),t(13));var v=function(e){var i=function(){var e=Object(n.useState)(!0),i=Object(o.a)(e,2),t=(i[0],i[1]);return function(){return t(function(e){return!e})}}(),t=e.cell.value,a=t.name,r=t.id,d=t.root,v=t.position,p=e.handleAddChild,f=e.handleAddSibling,g=e.handleRemoveCell,m=(e.handleAppendChild,e.handleAppendSibling),b=e.activeCell,_=e.setActiveCell,C=Object(n.useState)(!1),E=Object(o.a)(C,2),N=(E[0],E[1]),y=Object(n.useState)(null),I=Object(o.a)(y,2),A=I[0],w=I[1],O=l.a.createRef(),S=function(e){var i=e.target.getAttribute("id");i.includes("sibling-dropzone")&&w(i),e.preventDefault()};console.log(A);var L=function(e,t){e.preventDefault();t=e.dataTransfer.getData("cell");t=JSON.parse(t);var n=e.target.getAttribute("id");"right-sibling-dropzone"===e.target.getAttribute("name")&&(e.target.style.className="is-dragging",n=n.replace(/right-sibling-dropzone-/g,""),m("right",t,n)),"left-sibling-dropzone"===e.target.getAttribute("name")&&(n=n.replace(/left-sibling-dropzone-/g,""),m("left",t,n)),N(!1),i()};return l.a.createElement("div",{className:h(u(v))},l.a.createElement("div",{className:h("relative")},l.a.createElement("div",{className:h("cell-width mt-12 h-32 flex justify-center relative",(null===A||void 0===A?void 0:A.includes(r))&&(null===A||void 0===A?void 0:A.includes("right"))&&"on-right-dragged-over",(null===A||void 0===A?void 0:A.includes(r))&&(null===A||void 0===A?void 0:A.includes("left"))&&"on-left-dragged-over")},!d&&l.a.createElement("div",{className:h("w-24 h-32 left-dz bg-blue-100 absolute left-0 top-0 dropzone"),name:"left-sibling-dropzone",id:"left-sibling-dropzone-".concat(r),onDrop:function(i){return L(i,e.cell)},onDragOver:function(e){return S(e)}}),l.a.createElement("div",{id:r,className:h("border main-border rounded-lg  w-56 h-24",!d&&"absolute above-line",e.cell.children.length>0&&"absolute below-line"),onDragStart:function(i){return t=i,n=e.cell,N(!0),void t.dataTransfer.setData("cell",JSON.stringify(n));var t,n},draggable:!d&&"true"},l.a.createElement("div",{className:h("flex items-center h-4 w-full main-border-bottom",!d&&"draggable",b===r&&"main-bg")},l.a.createElement(c.b,{className:h("text-4xl font-semibold pl-2",r===b?"text-white":"main-text-color")})),l.a.createElement("div",{ref:O,className:"relative px-2 py-2 text-xl font-semibold main-text-color",id:"edit-".concat(r),onClick:function(e){return function(e){e.target.getAttribute("id").includes(r)&&(b||_(r),b&&_(null),b!==r&&_(r))}(e)}},a)),!d&&b!==r&&l.a.createElement("div",{className:["absolute opacity-0 hover:opacity-100 flex justify-center w-12 h-32 top-0 right-0"],onClick:function(){f(e.cell.value)}},l.a.createElement(s,{name:"add",className:"absolute"})),!d&&l.a.createElement("div",{className:h("w-24 h-32 right-dz bg-blue-100 absolute top-0 right-0 dropzone"),name:"right-sibling-dropzone",id:"right-sibling-dropzone-".concat(r),onDrop:function(i){return L(i,e.cell)},onDragOver:function(e){return S(e)},onDragLeave:function(e){return function(e){var i=e.target.getAttribute("id");i.includes("sibling-dropzone")&&(i.replace(/right-sibling-dropzone-/g,"")||i.replace(/left-sibling-dropzone-/g,""),w(null))}(e)}}),b!==r&&l.a.createElement("div",{className:["absolute bottom-0 opacity-0 hover:opacity-100 flex justify-center w-56 h-8"],onClick:function(){p(e.cell.value)}},l.a.createElement(s,{name:"add",className:"absolute z-100"})),b===r&&!d&&l.a.createElement("div",{id:"remove".concat(r),className:h("absolute bottom-0 right-0 flex justify-center w-56 h-8",b===r?"opacity-1":"opacity-0"),onClick:function(){g(e.cell.value)}},l.a.createElement(s,{id:"remove".concat(r),name:"minus"})))))},p=(Object(d.b)(function(e){})(v),t(31)),f=t(13);var g=function(e){var i,t;return e&&(null===(i=document)||void 0===i?void 0:null===(t=i.getElementById(e))||void 0===t?void 0:t.offsetWidth)},m=Object(d.b)(function(e){return{tree:e.tree.tree._root}},function(e){return{dispatchAddChild:function(i){e(function(e){return{type:"ADD_CHILD",cell:e}}(i))},dispatchAddSibling:function(i){e(function(e){return{type:"ADD_SIBLING",cell:e}}(i))},dispatchRemoveCell:function(i){e(function(e){return{type:"REMOVE_CELL",cell:e}}(i))},dispatchAppendSibling:function(i,t,n){e(function(e,i,t){switch(e){case"right":return{type:"APPEND_RIGHT_SIBLING",cell:i,siblingId:t};case"left":return{type:"APPEND_LEFT_SIBLING",cell:i,siblingId:t};default:return null}}(i,t,n))}}})(function e(i){var t,a,r=function(){var e=Object(n.useState)(!0),i=Object(o.a)(e,2),t=(i[0],i[1]);return function(){return t(function(e){return!e})}}(),d=i.tree,c=Object(n.useState)(null),s=Object(o.a)(c,2),u=s[0],h=s[1],m=i.dispatchAddChild,b=i.dispatchAddSibling,_=i.dispatchRemoveCell,C=i.dispatchAppendSibling,E=function(e){var i={value:{group:"body",id:p(),name:"name",parentId:e.id,hasChildren:!1},children:[]};m(i),r()},N=function(e){var i={value:{group:"body",id:p(),name:"name",parentId:e.parentId,siblingId:e.id,hasChildren:!1},children:[]};b(i),r()},y=function(e,i,t){C(e,i,t),r()},I=function(e){_(e),r()};return l.a.createElement("div",null,l.a.createElement("div",{className:"flex justify-center"},(null===d||void 0===d?void 0:null===(t=d.value)||void 0===t?void 0:t.root)&&l.a.createElement(v,{activeCell:u,setActiveCell:h,cell:d,handleAddChild:E,handleAddSibling:N,handleAppendSibling:y})),l.a.createElement("div",{className:"flex justify-center"},(null===d||void 0===d?void 0:null===(a=d.children)||void 0===a?void 0:a.length)>0&&d.children.map(function(i,t){return l.a.createElement("div",{id:i.value.id,key:t,className:f("flex flex-col items-center relative")},l.a.createElement(v,{activeCell:u,setActiveCell:h,key:t,cell:i,handleAddChild:E,handleAddSibling:N,handleAppendSibling:y,handleRemoveCell:I}),i.children.length>0&&l.a.createElement(e,{nodeWidth:g(i.value.id),id:i.value.id,tree:i,dispatchAddChild:m,dispatchAddSibling:b,dispatchRemoveCell:_,dispatchAppendSibling:C}))})))}),b=function(e){return l.a.createElement("div",{className:"wrapper mt-24"},l.a.createElement("div",null,l.a.createElement(m,{store:e.store})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(34);var _=t(2),C=t(6),E=t(16),N=t(17),y="isChild",I=new(function(){function e(i){Object(E.a)(this,e),this._root=i||null}return Object(N.a)(e,[{key:"_traverse",value:function(e){!function i(t){e(t),t.children.forEach(function(e){i(e)})}(this._root)}},{key:"_addNode",value:function(e,i){var t={value:e,children:[]};null!==this._root?this._traverse(function(t){if(t.value.id===i)return t.children.push(e)}):this._root=t}},{key:"_addSibling",value:function(e,i,t,n){"right"===n&&this._traverse(function(n){var l;if(n.value.id===i)return n.children.map(function(e,i){e.value.id===t&&(l=i)}),n.children.splice(l+1,0,e)}),"left"===n&&this._traverse(function(n){var l;if(n.value.id===i)return n.children.map(function(e,i){e.value.id===t&&(l=i)}),n.children.splice(l,0,e)})}},{key:"_removeNode",value:function(e){this._traverse(function(i){i.children.forEach(function(t,n){t.value.id===e&&i.children.splice(n,1)})})}},{key:"_search",value:function(e){var i="Not Found";return this._traverse(function(t){t.value.id===e&&(i=t)}),i}},{key:"_displayLeafs",value:function(e){var i=this,t="string"===typeof e?this._search(e):e,n=[];return e.children&&!e.children.length?e:(t.children.forEach(function(e){n.push(i._displayLeafs(e))}),n.flat())}},{key:"_childPosition",value:function(e,i){var t;return this._search(e).children.map(function(e,n){e.value.id===i&&(t=n)}),t}}]),e}());I._addNode({group:"main",id:"te83nwko7b",name:"Root",root:!0,hasChildren:!1});var A={tree:I},w=Object(_.c)({tree:function(){var e,i,t,n,l,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,o=arguments.length>1?arguments[1]:void 0,d=o.cell,c=null===d||void 0===d?void 0:null===(e=d.value)||void 0===e?void 0:e.parentId,s=(null===d||void 0===d?void 0:null===(i=d.value)||void 0===i?void 0:i.siblingId)||o.siblingId,u=r.tree,h=u._search(c),v=null===h||void 0===h?void 0:null===(t=h.children)||void 0===t?void 0:t.length,p=null===h||void 0===h?void 0:null===(n=h.children)||void 0===n?void 0:n.length;switch(o.type){case"ADD_CHILD":return d.value.position=function(e,i){return 0===i&&e>0?"isFirstChild":i===e&&0!==i?"isLastChild":0!==i&&i<e&&e>2?"isChild":void 0}(p,v),h.children.length>1&&(h.children[p-1].value.position=y),1===p&&(h.children[0].value.position="isFirstChild"),h.value.hasChildren=!0,u._addNode(d,c),Object(C.a)({},r,{tree:u});case"ADD_SIBLING":return l=null===u||void 0===u?void 0:u._childPosition(c,s),1===p&&(h.children[0].value.position="isFirstChild",d.value.position="isLastChild"),p>1&&l===p-1&&(d.value.position="isLastChild",h.children[p-1].value.position=y),p>1&&l!==p-1&&(d.value.position=y),u._addSibling(d,c,s,"right"),Object(C.a)({},r,{tree:u});case"APPEND_RIGHT_SIBLING":return c=u._search(s).value.parentId,l=u._childPosition(c,s),(a=u._childPosition(c,d.value.id))!==l+1&&a!==l&&(0===a&&l!==p-1&&(h.children[1].value.position="isFirstChild",d.value.position=y),0===a&&l===p-1&&2===p&&(h.children[1].value.position="isFirstChild",d.value.position="isLastChild"),0===a&&l===p-1&&p>2&&(h.children[1].value.position="isFirstChild",h.children[p-1].value.position=y,d.value.position="isLastChild"),0!==a&&l===p-1&&(d.value.position="isLastChild",h.children[p-2].value.position=y),a===p-1&&(h.children[p-2].value.position="isLastChild",d.value.position=y),p>2&&0!==a&&a!==p-1&&l===p-1&&(d.value.position="isLastChild",h.children[p-1].value.position=y),u._removeNode(d.value.id),u._addSibling(d,c,s,"right")),Object(C.a)({},r,{tree:u});case"APPEND_LEFT_SIBLING":return c=u._search(s).value.parentId,l=u._childPosition(c,s),(a=u._childPosition(c,d.value.id))!==l-1&&l!==a&&(0===l&&a!==p-1&&(d.value.position="isFirstChild",h.children[0].value.position=y),0===l&&a===p-1&&(d.value.position="isFirstChild",h.children[0].value.position=y,h.children[p-2].value.position="isLastChild"),0===a&&l===p-1&&(d.value.position=y,h.children[1].value.position="isFirstChild"),0!==l&&a===p-1&&(d.value.position=y,h.children[l].value.position="isLastChild"),u._removeNode(d.value.id),u._addSibling(d,c,s,"left")),Object(C.a)({},r,{tree:u});case"REMOVE_CELL":u._removeNode(d.id);var f=u._search(d.parentId).children.length;return u._search(d.parentId).children.length>1&&(u._search(d.parentId).children[0].value.position="isFirstChild",u._search(d.parentId).children[f-1].value.position="isLastChild"),1===u._search(d.parentId).children.length&&(u._search(d.parentId).children[0].value.position=""),1===u._search(d.parentId).children.length&&(u._search(d.parentId).children[0].value.position=""),Object(C.a)({},r,{tree:u});default:return r}}}),O=t(18),S=t.n(O),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_.d;var j=Object(_.e)(w,L(Object(_.a)(S.a)));r.a.render(l.a.createElement(d.a,{store:j},l.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.54e89c9d.chunk.js.map